<% posts.each do |post| %>
<%= erb :post, locals: { post: post } %>
<% end %>

<nav class="pagination">
	<% if page > 1 %>
	<a class="previous" href="/<%= page - 1 %>" rel="previous">Previous</a>
	<% else %>
	<span class="disabled">Previous</span>
	<% end %>

	<% if page > window %>
	<% if page == window + 1 %>
	<a href="/1">1</a>
	<% else %>
	<% (1..window).each do |i| %>
	<a href="/<%= i %>"><%= i %></a>
	<% end %>
	<span class="gap"></span>
	<% end %>
	<% end %>

	<% if page > 1 %>
	<a href="/<%= page - 1 %>" rel="prev"><%= page - 1 %></a>
	<% end %>
	<span class="current"><%= page %></span>
	<% if page < total_pages %>
	<a href="/<%= page + 1 %>" rel="next"><%= page + 1 %></a>
	<% end %>

	<% if page <= total_pages - window %>
	<% if page == total_pages - window %>
	<a href="/<%= total_pages %>"><%= total_pages %></a>
	<% else %>
	<span class="gap"></span>
	<% ((total_pages - window + 1)..total_pages).each do |i| %>
	<a href="/<%= i %>"><%= i %></a>
	<% end %>
	<% end %>
	<% end %>

	<% if page < total_pages %>
	<a class="next" href="/<%= page + 1 %>" rel="next">Next</a>
	<% else %>
	<span class="disabled">Next</span>
	<% end %>
</nav>